 @model IEnumerable<ContactViewModel>
@{
    ViewBag.Title = "Contacts";
}
<table class="table table-borderless table-success table-hover">
    <thead>
        <tr class="table-light text-success">
            <th><h6>@ViewBag.Mysession</h6></th>
            <a asp-controller ="Home" asp-action="Logout">Logout</a>
        </tr>
    </thead>
</table>

<form action="~/contacts/index" method="get">

    <div class="container-fluid">
    <div class="row">
       <div class="col-md-12">
           <h4 class="p-4 text-primary text-dark">All Contacts</h4>
       </div>
    </div>
    <div class="row">
         <div class="col-md-12 text-dark">
            <a asp-controller="Contacts" asp-action="Create">Create Contact</a>
        </div>
    </div>
    <br>
   <div class="col-md-12 text-black">
        <h6>Search By column name</h6>
    <form>
    <div class="box flex">
        <div class="flex-1">
            <div class="input-group">
                     <select class="form-input" name="searchBy" form-control me-1>
                    @foreach (var field in ViewBag.SearchFields)
                    {
                        if (field.Key == ViewBag.CurrentSearchBy)
                        {
                            <option value="@field.Key" selected="selected">@field.Value</option>
                        }
                        else
                        {
                            <option value="@field.Key">@field.Value</option>
                        }
                    }
                    @* Eg: searchBy=ContactName&searchString=abc *@
                </select>
               <input type="search" id="Search" class="form-input" placeholder="Search" name="searchString" value="@ViewBag.CurrentSearchString" />
               <div class="flex-1">
                                <button class="btn btn-primary">Search</button>
               </div>

            </div>
        </div>
    </div>
    </form>
    </div>
    <br />
@* <div class="container-fluid"> *@
    <table class="table table-borderless table-striped table-hover">
        <thead>
            <tr class="table-dark">
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.EmailAddress)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PhoneNumber)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ZipCode)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LastName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.EmailAddress)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PhoneNumber)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ZipCode)
                    </td>
                    <td>
                        <a asp-controller="Contacts" asp-action="Edit" asp-route-contactId="@item.ContactId">Edit</a> 
                        @* <a asp-action="Details" asp-route-id="@item.ContactId">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.ContactId">Delete</a> *@
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
</form>
